extends layout

block scripts
	script(src='/js/socket.js' defer)

block content
	p.row= question
	br
	.tab
		- total_votes = options.reduce((x, y) => x + y.votes, 0)
		each val, index in options
			- votes = val.votes
			.row
				span= `${index + 1}. ${val.text}`
			.row.option
				meter(value=votes / total_votes)
				span.r= `${votes} votes, ${percent_as_str(votes, total_votes)} %`
	br
	button#total.r= `${total_votes} total votes`

block version
	span.r= `v ${version}`
